{"ast":null,"code":"var _jsxFileName = \"/Users/joseignacio/Developer/caixabanktech-hackathon/src/components/AnalysisGraph.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, Suspense } from \"react\";\nimport { useStore } from \"@nanostores/react\";\nimport { transactionsStore } from \"../stores/transactionStore\";\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer } from \"recharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnalysisGraphContent = () => {\n  _s();\n  const transactions = useStore(transactionsStore);\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    const categoryTotals = transactions.reduce((acc, transaction) => {\n      if (!acc[transaction.category]) {\n        acc[transaction.category] = {\n          category: transaction.category,\n          Income: 0,\n          Expense: 0\n        };\n      }\n      if (transaction.type === \"income\") {\n        acc[transaction.category].Income += transaction.amount;\n      } else if (transaction.type === \"expense\") {\n        acc[transaction.category].Expense += transaction.amount;\n      }\n      return acc;\n    }, {});\n    setData(Object.values(categoryTotals));\n  }, [transactions]);\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    width: \"100%\",\n    height: 400,\n    children: /*#__PURE__*/_jsxDEV(BarChart, {\n      data: data,\n      children: [/*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"Income\",\n        stackId: \"a\",\n        fill: \"#82ca9d\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"Expense\",\n        stackId: \"a\",\n        fill: \"#8884d8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(AnalysisGraphContent, \"8kz9GOJ95ULYgbusi+dt6TcT9TU=\", false, function () {\n  return [useStore];\n});\n_c = AnalysisGraphContent;\nexport default function AnalysisGraph() {\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading graph...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(AnalysisGraphContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_c2 = AnalysisGraph;\nvar _c, _c2;\n$RefreshReg$(_c, \"AnalysisGraphContent\");\n$RefreshReg$(_c2, \"AnalysisGraph\");","map":{"version":3,"names":["React","useEffect","useState","Suspense","useStore","transactionsStore","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","jsxDEV","_jsxDEV","AnalysisGraphContent","_s","transactions","data","setData","categoryTotals","reduce","acc","transaction","category","Income","Expense","type","amount","Object","values","width","height","children","dataKey","fileName","_jsxFileName","lineNumber","columnNumber","stackId","fill","_c","AnalysisGraph","fallback","_c2","$RefreshReg$"],"sources":["/Users/joseignacio/Developer/caixabanktech-hackathon/src/components/AnalysisGraph.js"],"sourcesContent":["import React, { useEffect, useState, Suspense } from \"react\";\nimport { useStore } from \"@nanostores/react\";\nimport { transactionsStore } from \"../stores/transactionStore\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from \"recharts\";\n\nconst AnalysisGraphContent = () => {\n  const transactions = useStore(transactionsStore);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    const categoryTotals = transactions.reduce((acc, transaction) => {\n      if (!acc[transaction.category]) {\n        acc[transaction.category] = { category: transaction.category, Income: 0, Expense: 0 };\n      }\n      if (transaction.type === \"income\") {\n        acc[transaction.category].Income += transaction.amount;\n      } else if (transaction.type === \"expense\") {\n        acc[transaction.category].Expense += transaction.amount;\n      }\n      return acc;\n    }, {});\n\n    setData(Object.values(categoryTotals));\n  }, [transactions]);\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={400}>\n      <BarChart data={data}>\n        <XAxis dataKey=\"category\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        <Bar dataKey=\"Income\" stackId=\"a\" fill=\"#82ca9d\" />\n        <Bar dataKey=\"Expense\" stackId=\"a\" fill=\"#8884d8\" />\n      </BarChart>\n    </ResponsiveContainer>\n  );\n}\n\nexport default function AnalysisGraph() {\n  return (\n    <Suspense fallback={<div>Loading graph...</div>}>\n      <AnalysisGraphContent />\n    </Suspense>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}