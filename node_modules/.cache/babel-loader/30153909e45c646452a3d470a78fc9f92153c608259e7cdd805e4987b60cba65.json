{"ast":null,"code":"import { listenKeys } from 'nanostores';\nimport { useCallback, useRef, useSyncExternalStore } from 'react';\nlet emit = (snapshotRef, onChange) => value => {\n  snapshotRef.current = value;\n  onChange();\n};\nexport function useStore(store, {\n  keys,\n  deps = [store, keys]\n} = {}) {\n  let snapshotRef = useRef();\n  snapshotRef.current = store.get();\n  let subscribe = useCallback(onChange => keys?.length > 0 ? listenKeys(store, keys, emit(snapshotRef, onChange)) : store.listen(emit(snapshotRef, onChange)), deps);\n  let get = () => snapshotRef.current;\n  return useSyncExternalStore(subscribe, get, get);\n}","map":{"version":3,"names":["listenKeys","useCallback","useRef","useSyncExternalStore","emit","snapshotRef","onChange","value","current","useStore","store","keys","deps","get","subscribe","length","listen"],"sources":["/Users/joseignacio/Developer/caixabanktech-hackathon/node_modules/@nanostores/react/index.js"],"sourcesContent":["import { listenKeys } from 'nanostores'\nimport { useCallback, useRef, useSyncExternalStore } from 'react'\n\nlet emit = (snapshotRef, onChange) => value => {\n  snapshotRef.current = value\n  onChange()\n}\n\nexport function useStore(store, { keys, deps = [store, keys] } = {}) {\n  let snapshotRef = useRef()\n  snapshotRef.current = store.get()\n\n  let subscribe = useCallback(\n    onChange =>\n      keys?.length > 0\n        ? listenKeys(store, keys, emit(snapshotRef, onChange))\n        : store.listen(emit(snapshotRef, onChange)),\n    deps\n  )\n  let get = () => snapshotRef.current\n\n  return useSyncExternalStore(subscribe, get, get)\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,YAAY;AACvC,SAASC,WAAW,EAAEC,MAAM,EAAEC,oBAAoB,QAAQ,OAAO;AAEjE,IAAIC,IAAI,GAAGA,CAACC,WAAW,EAAEC,QAAQ,KAAKC,KAAK,IAAI;EAC7CF,WAAW,CAACG,OAAO,GAAGD,KAAK;EAC3BD,QAAQ,CAAC,CAAC;AACZ,CAAC;AAED,OAAO,SAASG,QAAQA,CAACC,KAAK,EAAE;EAAEC,IAAI;EAAEC,IAAI,GAAG,CAACF,KAAK,EAAEC,IAAI;AAAE,CAAC,GAAG,CAAC,CAAC,EAAE;EACnE,IAAIN,WAAW,GAAGH,MAAM,CAAC,CAAC;EAC1BG,WAAW,CAACG,OAAO,GAAGE,KAAK,CAACG,GAAG,CAAC,CAAC;EAEjC,IAAIC,SAAS,GAAGb,WAAW,CACzBK,QAAQ,IACNK,IAAI,EAAEI,MAAM,GAAG,CAAC,GACZf,UAAU,CAACU,KAAK,EAAEC,IAAI,EAAEP,IAAI,CAACC,WAAW,EAAEC,QAAQ,CAAC,CAAC,GACpDI,KAAK,CAACM,MAAM,CAACZ,IAAI,CAACC,WAAW,EAAEC,QAAQ,CAAC,CAAC,EAC/CM,IACF,CAAC;EACD,IAAIC,GAAG,GAAGA,CAAA,KAAMR,WAAW,CAACG,OAAO;EAEnC,OAAOL,oBAAoB,CAACW,SAAS,EAAED,GAAG,EAAEA,GAAG,CAAC;AAClD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}