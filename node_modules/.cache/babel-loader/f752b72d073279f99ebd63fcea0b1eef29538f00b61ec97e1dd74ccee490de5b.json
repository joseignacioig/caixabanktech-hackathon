{"ast":null,"code":"var _jsxFileName = \"/Users/joseignacio/Developer/caixabanktech-hackathon/src/components/BudgetAlert.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useStore } from \"@nanostores/react\";\nimport { userSettingsStore } from \"../stores/userSettingsStore\";\nimport { transactionsStore } from \"../stores/transactionStore\";\nimport { Alert } from \"@mui/material\";\nimport { budgetAlertStore } from \"../stores/budgetAlertStore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetAlert = () => {\n  _s();\n  const userSettings = useStore(userSettingsStore);\n  const transactions = useStore(transactionsStore);\n  const budgetAlert = useStore(budgetAlertStore);\n\n  // Instructions:\n  // - Calculate the total expenses from the transactions.\n  const totalExpense = transactions.filter(transaction => transaction.type === \"expense\").reduce((acc, transaction) => acc + transaction.amount, 0);\n\n  // Determine if the budget has been exceeded\n  const budgetExceeded = totalExpense > userSettings.totalBudgetLimit; // Replace with a comparison of totalExpense and userSettings.totalBudgetLimit\n\n  // Use the useEffect hook to update the budgetAlertStore when the budget is exceeded\n  useEffect(() => {\n    // Instructions:\n    // - If the budget has been exceeded, set the `isVisible` property in the `budgetAlertStore` to true and provide a warning message.\n    // - If the budget has not been exceeded, set `isVisible` to false and clear the message.\n    if (budgetExceeded) {\n      budgetAlertStore.set({\n        isVisible: true,\n        message: `You have exceeded your total budget limit of ${userSettings.totalBudgetLimit}!`\n      });\n    } else {\n      budgetAlertStore.set({\n        isVisible: false,\n        message: \"\"\n      });\n    }\n  }, [budgetExceeded, userSettings.totalBudgetLimit]);\n  return (\n    // Conditional rendering of the alert\n    // Instructions:\n    // - If the budget is exceeded, return an `Alert` component with the appropriate message and severity.\n    userSettings.alertsEnabled && budgetAlert.isVisible ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"warning\",\n      sx: {\n        mb: 2\n      },\n      children: budgetAlert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this) : null\n  );\n};\n_s(BudgetAlert, \"EFyaimgfzV2D5ReKj6YU4Cz3W2A=\", false, function () {\n  return [useStore, useStore, useStore];\n});\n_c = BudgetAlert;\nexport default BudgetAlert;\nvar _c;\n$RefreshReg$(_c, \"BudgetAlert\");","map":{"version":3,"names":["React","useEffect","useStore","userSettingsStore","transactionsStore","Alert","budgetAlertStore","jsxDEV","_jsxDEV","BudgetAlert","_s","userSettings","transactions","budgetAlert","totalExpense","filter","transaction","type","reduce","acc","amount","budgetExceeded","totalBudgetLimit","set","isVisible","message","alertsEnabled","severity","sx","mb","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/joseignacio/Developer/caixabanktech-hackathon/src/components/BudgetAlert.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useStore } from \"@nanostores/react\";\nimport { userSettingsStore } from \"../stores/userSettingsStore\";\nimport { transactionsStore } from \"../stores/transactionStore\";\nimport { Alert } from \"@mui/material\";\nimport { budgetAlertStore } from \"../stores/budgetAlertStore\";\n\nconst BudgetAlert = () => {\n  const userSettings = useStore(userSettingsStore);\n  const transactions = useStore(transactionsStore);\n  const budgetAlert = useStore(budgetAlertStore);\n\n  // Instructions:\n  // - Calculate the total expenses from the transactions.\n  const totalExpense = transactions\n    .filter((transaction) => transaction.type === \"expense\")\n    .reduce((acc, transaction) => acc + transaction.amount, 0);\n\n  // Determine if the budget has been exceeded\n  const budgetExceeded = totalExpense > userSettings.totalBudgetLimit; // Replace with a comparison of totalExpense and userSettings.totalBudgetLimit\n\n  // Use the useEffect hook to update the budgetAlertStore when the budget is exceeded\n  useEffect(() => {\n    // Instructions:\n    // - If the budget has been exceeded, set the `isVisible` property in the `budgetAlertStore` to true and provide a warning message.\n    // - If the budget has not been exceeded, set `isVisible` to false and clear the message.\n    if (budgetExceeded) {\n      budgetAlertStore.set({\n        isVisible: true,\n        message: `You have exceeded your total budget limit of ${userSettings.totalBudgetLimit}!`,\n      });\n    } else {\n      budgetAlertStore.set({\n        isVisible: false,\n        message: \"\",\n      });\n    }\n  }, [budgetExceeded, userSettings.totalBudgetLimit]);\n\n  return (\n    // Conditional rendering of the alert\n    // Instructions:\n    // - If the budget is exceeded, return an `Alert` component with the appropriate message and severity.\n    userSettings.alertsEnabled && budgetAlert.isVisible ? (\n      <Alert severity=\"warning\" sx={{ mb: 2 }}>\n        {budgetAlert.message}\n      </Alert>\n    ) : null\n  );\n};\n\nexport default BudgetAlert;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,iBAAiB,QAAQ,6BAA6B;AAC/D,SAASC,iBAAiB,QAAQ,4BAA4B;AAC9D,SAASC,KAAK,QAAQ,eAAe;AACrC,SAASC,gBAAgB,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,YAAY,GAAGT,QAAQ,CAACC,iBAAiB,CAAC;EAChD,MAAMS,YAAY,GAAGV,QAAQ,CAACE,iBAAiB,CAAC;EAChD,MAAMS,WAAW,GAAGX,QAAQ,CAACI,gBAAgB,CAAC;;EAE9C;EACA;EACA,MAAMQ,YAAY,GAAGF,YAAY,CAC9BG,MAAM,CAAEC,WAAW,IAAKA,WAAW,CAACC,IAAI,KAAK,SAAS,CAAC,CACvDC,MAAM,CAAC,CAACC,GAAG,EAAEH,WAAW,KAAKG,GAAG,GAAGH,WAAW,CAACI,MAAM,EAAE,CAAC,CAAC;;EAE5D;EACA,MAAMC,cAAc,GAAGP,YAAY,GAAGH,YAAY,CAACW,gBAAgB,CAAC,CAAC;;EAErE;EACArB,SAAS,CAAC,MAAM;IACd;IACA;IACA;IACA,IAAIoB,cAAc,EAAE;MAClBf,gBAAgB,CAACiB,GAAG,CAAC;QACnBC,SAAS,EAAE,IAAI;QACfC,OAAO,EAAE,gDAAgDd,YAAY,CAACW,gBAAgB;MACxF,CAAC,CAAC;IACJ,CAAC,MAAM;MACLhB,gBAAgB,CAACiB,GAAG,CAAC;QACnBC,SAAS,EAAE,KAAK;QAChBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACJ,cAAc,EAAEV,YAAY,CAACW,gBAAgB,CAAC,CAAC;EAEnD;IACE;IACA;IACA;IACAX,YAAY,CAACe,aAAa,IAAIb,WAAW,CAACW,SAAS,gBACjDhB,OAAA,CAACH,KAAK;MAACsB,QAAQ,EAAC,SAAS;MAACC,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAC,QAAA,EACrCjB,WAAW,CAACY;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,GACN;EAAI;AAEZ,CAAC;AAACxB,EAAA,CA1CID,WAAW;EAAA,QACMP,QAAQ,EACRA,QAAQ,EACTA,QAAQ;AAAA;AAAAiC,EAAA,GAHxB1B,WAAW;AA4CjB,eAAeA,WAAW;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}