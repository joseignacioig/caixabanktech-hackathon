{"ast":null,"code":"import { clean } from '../clean-stores/index.js';\nimport { onMount } from '../lifecycle/index.js';\nimport { map } from '../map/index.js';\nexport function mapCreator(init) {\n  let Creator = (id, ...args) => {\n    if (!Creator.cache[id]) {\n      Creator.cache[id] = Creator.build(id, ...args);\n    }\n    return Creator.cache[id];\n  };\n  Creator.build = (id, ...args) => {\n    let store = map({\n      id\n    });\n    onMount(store, () => {\n      let destroy;\n      if (init) destroy = init(store, id, ...args);\n      return () => {\n        delete Creator.cache[id];\n        if (destroy) destroy();\n      };\n    });\n    return store;\n  };\n  Creator.cache = {};\n  if (process.env.NODE_ENV !== 'production') {\n    Creator[clean] = () => {\n      for (let id in Creator.cache) {\n        Creator.cache[id][clean]();\n      }\n      Creator.cache = {};\n    };\n  }\n  return Creator;\n}","map":{"version":3,"names":["clean","onMount","map","mapCreator","init","Creator","id","args","cache","build","store","destroy","process","env","NODE_ENV"],"sources":["/Users/joseignacio/Developer/caixabanktech-hackathon/node_modules/nanostores/map-creator/index.js"],"sourcesContent":["import { clean } from '../clean-stores/index.js'\nimport { onMount } from '../lifecycle/index.js'\nimport { map } from '../map/index.js'\n\nexport function mapCreator(init) {\n  let Creator = (id, ...args) => {\n    if (!Creator.cache[id]) {\n      Creator.cache[id] = Creator.build(id, ...args)\n    }\n    return Creator.cache[id]\n  }\n\n  Creator.build = (id, ...args) => {\n    let store = map({ id })\n    onMount(store, () => {\n      let destroy\n      if (init) destroy = init(store, id, ...args)\n      return () => {\n        delete Creator.cache[id]\n        if (destroy) destroy()\n      }\n    })\n    return store\n  }\n\n  Creator.cache = {}\n\n  if (process.env.NODE_ENV !== 'production') {\n    Creator[clean] = () => {\n      for (let id in Creator.cache) {\n        Creator.cache[id][clean]()\n      }\n      Creator.cache = {}\n    }\n  }\n\n  return Creator\n}\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,0BAA0B;AAChD,SAASC,OAAO,QAAQ,uBAAuB;AAC/C,SAASC,GAAG,QAAQ,iBAAiB;AAErC,OAAO,SAASC,UAAUA,CAACC,IAAI,EAAE;EAC/B,IAAIC,OAAO,GAAGA,CAACC,EAAE,EAAE,GAAGC,IAAI,KAAK;IAC7B,IAAI,CAACF,OAAO,CAACG,KAAK,CAACF,EAAE,CAAC,EAAE;MACtBD,OAAO,CAACG,KAAK,CAACF,EAAE,CAAC,GAAGD,OAAO,CAACI,KAAK,CAACH,EAAE,EAAE,GAAGC,IAAI,CAAC;IAChD;IACA,OAAOF,OAAO,CAACG,KAAK,CAACF,EAAE,CAAC;EAC1B,CAAC;EAEDD,OAAO,CAACI,KAAK,GAAG,CAACH,EAAE,EAAE,GAAGC,IAAI,KAAK;IAC/B,IAAIG,KAAK,GAAGR,GAAG,CAAC;MAAEI;IAAG,CAAC,CAAC;IACvBL,OAAO,CAACS,KAAK,EAAE,MAAM;MACnB,IAAIC,OAAO;MACX,IAAIP,IAAI,EAAEO,OAAO,GAAGP,IAAI,CAACM,KAAK,EAAEJ,EAAE,EAAE,GAAGC,IAAI,CAAC;MAC5C,OAAO,MAAM;QACX,OAAOF,OAAO,CAACG,KAAK,CAACF,EAAE,CAAC;QACxB,IAAIK,OAAO,EAAEA,OAAO,CAAC,CAAC;MACxB,CAAC;IACH,CAAC,CAAC;IACF,OAAOD,KAAK;EACd,CAAC;EAEDL,OAAO,CAACG,KAAK,GAAG,CAAC,CAAC;EAElB,IAAII,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzCT,OAAO,CAACL,KAAK,CAAC,GAAG,MAAM;MACrB,KAAK,IAAIM,EAAE,IAAID,OAAO,CAACG,KAAK,EAAE;QAC5BH,OAAO,CAACG,KAAK,CAACF,EAAE,CAAC,CAACN,KAAK,CAAC,CAAC,CAAC;MAC5B;MACAK,OAAO,CAACG,KAAK,GAAG,CAAC,CAAC;IACpB,CAAC;EACH;EAEA,OAAOH,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}